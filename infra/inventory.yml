---
# Valence Infrastructure Inventory
# Update with actual Droplet IP after creation

all:
  hosts:
    valence-pod:
      ansible_host: "{{ lookup('env', 'VALENCE_POD_IP') }}"
      ansible_user: root
      ansible_ssh_private_key_file: ~/.ssh/id_ed25519
  vars:
    # Domain configuration
    domain: "{{ lookup('env', 'VALENCE_DOMAIN') }}"

    # PostgreSQL
    postgres_version: "16"
    postgres_db: valence
    postgres_user: valence
    postgres_password: "{{ lookup('env', 'VALENCE_DB_PASSWORD') }}"

    # Synapse
    synapse_server_name: "{{ domain }}"
    synapse_admin_user: chris

    # Let's Encrypt
    letsencrypt_email: "{{ lookup('env', 'LETSENCRYPT_EMAIL') }}"

    # DigitalOcean Spaces (for backups)
    do_spaces_key: "{{ lookup('env', 'DO_SPACES_KEY') }}"
    do_spaces_secret: "{{ lookup('env', 'DO_SPACES_SECRET') }}"
    do_spaces_bucket: "{{ lookup('env', 'DO_SPACES_BUCKET') }}"
    do_spaces_region: "{{ lookup('env', 'DO_SPACES_REGION') | default('nyc3', true) }}"
